<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Relationship for Humans | Unplug & Master</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Roboto:wght@300;400;500&display=swap"
    rel="stylesheet">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/styles.css">
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">
</head>

<body class="bg-black text-light">

  <!-- Header Component -->
  <div id="header-placeholder"></div>

  <!-- Hero Section -->
  <!-- Hero Section -->
  <header class="hero-section d-flex align-items-center">
    <div class="container position-relative z-2">
      <div class="row align-items-center">
        <!-- Text Content -->
        <div class="col-lg-6 text-center text-lg-start mb-5 mb-lg-0">
          <h1 class="display-1 fw-black text-uppercase mb-3 glitch-effect hero-title">Master Your<br>Relationships</h1>
          <p class="lead mb-4 text-white-50 hero-subtitle">
            Understand the psychology of connection. Communicate with confidence. Build meaningful relationships based
            on
            mutual respect and understanding.
          </p>
          <div class="d-flex justify-content-center justify-content-lg-start gap-3 hero-buttons">
            <a href="chat.html" class="btn btn-danger btn-lg rounded-0 px-4 px-md-5 fw-bold text-uppercase">Start AI
              Coaching</a>
            <a href="screenshot-analysis.html"
              class="btn btn-outline-light btn-lg rounded-0 px-4 px-md-5 fw-bold text-uppercase">Analyze Your Texts</a>
          </div>
        </div>

        <!-- Image Carousel -->
        <div class="col-lg-6">
          <div id="heroCarousel" class="carousel slide carousel-fade border border-secondary" data-bs-ride="carousel">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
              <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img src="assets/carousel-1.png" class="d-block w-100" alt="Meaningful Connection">
                <div class="carousel-caption d-none d-md-block bg-black bg-opacity-50 p-2">
                  <h5 class="fw-bold text-uppercase">Real Connection</h5>
                  <p class="small">Build relationships that last.</p>
                </div>
              </div>
              <div class="carousel-item">
                <img src="assets/carousel-2.png" class="d-block w-100" alt="Psychology of Attraction">
                <div class="carousel-caption d-none d-md-block bg-black bg-opacity-50 p-2">
                  <h5 class="fw-bold text-uppercase">Psychology Based</h5>
                  <p class="small">Science, not guessing.</p>
                </div>
              </div>
              <div class="carousel-item">
                <img src="assets/carousel-3.png" class="d-block w-100" alt="Confidence">
                <div class="carousel-caption d-none d-md-block bg-black bg-opacity-50 p-2">
                  <h5 class="fw-bold text-uppercase">Unshakeable Confidence</h5>
                  <p class="small">Become your best self.</p>
                </div>
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="hero-overlay"></div>
  </header>

  <!-- Philosophy Section -->
  <section id="philosophy" class="py-4">
    <div class="container py-4">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-5 mb-lg-0">
          <h2 class="display-4 fw-bold text-uppercase mb-4 philosophy-title">The Science of <span
              class="text-pink">Connection</span></h2>
          <div class="border-start border-danger border-4 ps-4 philosophy-content">
            <p class="lead text-light">Healthy relationships aren't about games. They're about understanding human
              behavior.</p>
            <p class="text-white-50">At Relationship for Humans, we use psychology and data to help you navigate modern
              dating. We strip away the confusion and give you clear, actionable advice to build strong, authentic
              connections.</p>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="row g-4">
            <div class="col-md-6 philosophy-card">
              <div class="p-4 border border-secondary bg-dark-subtle h-100">
                <h4 class="text-danger fw-bold">01. Boundaries</h4>
                <p class="small text-white-50">Healthy boundaries create respect. Know what you stand for and
                  communicate it clearly.</p>
              </div>
            </div>
            <div class="col-md-6 philosophy-card">
              <div class="p-4 border border-secondary bg-dark-subtle h-100">
                <h4 class="text-danger fw-bold">02. Self-Worth</h4>
                <p class="small text-white-50">Confidence attracts. Build your self-esteem and become a partner worth
                  having.</p>
              </div>
            </div>
            <div class="col-md-6 philosophy-card">
              <div class="p-4 border border-secondary bg-dark-subtle h-100">
                <h4 class="text-danger fw-bold">03. Psychology</h4>
                <p class="small text-white-50">Understand emotional needs and attachment styles. Don't guess—understand.
                </p>
              </div>
            </div>
            <div class="col-md-6 philosophy-card">
              <div class="p-4 border border-secondary bg-dark-subtle h-100">
                <h4 class="text-danger fw-bold">04. Growth</h4>
                <p class="small text-white-50">Relationships are a journey. Focus on personal growth and shared goals.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Feature Section: Screenshot Analysis -->
  <section class="py-4 bg-black border-top border-bottom border-secondary">
    <div class="container py-4">
      <div class="row align-items-center">
        <div class="col-lg-5 order-lg-2">
          <div class="p-4 border border-danger bg-dark-subtle text-center decode-box">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="54" fill="#d00000"
              class="bi bi-chat-square-text mb-3" viewBox="0 0 16 16">
              <path
                d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 12.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5l3.5 3.5 3.5-3.5H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
              <path
                d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
            </svg>
            <h3 class="fw-bold text-white mb-3">Analyze Texts</h3>
            <p class="text-white-50 mb-3">Upload screenshots. Get instant psychological analysis. Know exactly what to
              say.</p>
            <a href="screenshot-analysis.html" class="btn btn-danger rounded-0 fw-bold text-uppercase px-4">Try
              Text Analyzer</a>
          </div>
        </div>
        <div class="col-lg-7 order-lg-1 mb-3 mb-lg-0">
          <h2 class="display-5 fw-bold text-uppercase mb-3">Understand the <span class="text-pink">Subtext.</span>
          </h2>
          <p class="lead text-light mb-4">Miscommunication kills attraction. Our AI Text Analyzer reads between the
            lines to help you understand the emotional context.</p>
          <ul class="list-unstyled text-white-50">
            <li class="mb-3 d-flex align-items-center"><span class="text-danger me-2">➤</span> Detect emotional cues and
              interest levels.</li>
            <li class="mb-3 d-flex align-items-center"><span class="text-danger me-2">➤</span> Identify communication
              patterns and attachment styles.</li>
            <li class="mb-3 d-flex align-items-center"><span class="text-danger me-2">➤</span> Generate clear,
              authentic, and effective responses.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Visual Break / Lifestyle Section -->
  <section class="py-5 bg-black overflow-hidden">
    <div class="container py-4">
      <div class="row g-5 align-items-center">
        <div class="col-md-6 text-center">
          <img src="assets/feature-1.png" class="img-fluid border border-secondary shadow-lg" style="max-width: 80%;"
            alt="Texting Context">
        </div>
        <div class="col-md-6 text-center text-md-start">
          <h3 class="display-5 fw-bold text-uppercase mb-4">Don't Leave It to <span class="text-danger">Chance</span>
          </h3>
          <p class="lead text-white-50 mb-5">
            Attraction isn't random. It's a sequence of correct moves. One wrong text can kill the vibe. One right text
            can ignite it.
          </p>
          <div class="text-center text-md-end">
            <img src="assets/feature-2.png" class="img-fluid border border-secondary shadow-lg" style="max-width: 80%;"
              alt="Positive Outcome">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Coaching Section -->
  <section id="coaching" class="py-5 bg-dark-gradient">
    <div class="container py-5">
      <div class="text-center mb-4">
        <h2 class="display-4 fw-bold text-uppercase">Plans</h2>
        <p class="text-pink fw-bold tracking-widest">CHOOSE YOUR PATH</p>
      </div>

      <!-- Toggle Switch for Weekly/Monthly -->
      <div class="d-flex justify-content-center mb-5">
        <div class="btn-group" role="group" aria-label="Billing Cycle">
          <input type="radio" class="btn-check" name="billingCycle" id="billingWeekly" autocomplete="off" checked
            onchange="updatePricing()">
          <label class="btn btn-outline-danger rounded-0 px-4 py-2 fw-bold text-uppercase"
            for="billingWeekly">Weekly</label>

          <input type="radio" class="btn-check" name="billingCycle" id="billingMonthly" autocomplete="off"
            onchange="updatePricing()">
          <label class="btn btn-outline-danger rounded-0 px-4 py-2 fw-bold text-uppercase"
            for="billingMonthly">Monthly</label>
        </div>
      </div>

      <div class="row g-4 justify-content-center">
        <!-- Card 1: Basic (The Sleeper) -->
        <div class="col-lg-4 col-md-6">
          <div class="card bg-black border-secondary h-100 pricing-card">
            <div class="card-body p-5 d-flex flex-column">
              <h3 class="card-title fw-bold text-white">The Sleeper</h3>
              <p class="text-white-50 mb-4">Dip your toes in the water.</p>
              <h2 class="display-5 fw-bold text-danger mb-4">Free</h2>
              <ul class="list-unstyled text-white-50 mb-5 flex-grow-1">
                <li class="mb-3">✓ <strong>10 AI Queries / Day</strong></li>
                <li class="mb-3">✓ <strong>5 Screenshot Analyses / Day</strong></li>
                <li class="mb-3">✓ Standard Coach Persona</li>
                <li class="mb-3">✓ Basic Text Analysis</li>
              </ul>
              <button onclick="selectPlan('Sleeper')"
                class="btn btn-outline-light w-100 rounded-0 fw-bold text-uppercase">Stay Free</button>
            </div>
          </div>
        </div>

        <!-- Card 2: Pro (The Initiate) -->
        <div class="col-lg-4 col-md-6">
          <div class="card bg-black border-secondary h-100 pricing-card">
            <div class="card-body p-5 d-flex flex-column">
              <h3 class="card-title fw-bold text-white">The Initiate</h3>
              <p class="text-white-50 mb-4">Serious about results.</p>
              <!-- Price Container -->
              <h2 class="display-5 fw-bold text-pink mb-4" id="price-pro">
                --
                <span class="fs-4 text-white-50" id="period-pro">/week</span>
              </h2>
              <ul class="list-unstyled text-white-50 mb-5 flex-grow-1">
                <li class="mb-3 text-white">✓ <strong>50 AI Queries / Day</strong></li>
                <li class="mb-3 text-white">✓ <strong>25 Screenshot Analyses / Day</strong></li>
                <li class="mb-3">✓ <strong>Unlock:</strong> Wingman & Drill Sergeant</li>
                <li class="mb-3">✓ Voice-to-Text Input</li>
                <li class="mb-3">✓ Multi-Language Support</li>
              </ul>
              <button onclick="selectPlan('Initiate')"
                class="btn btn-outline-light w-100 rounded-0 fw-bold text-uppercase">Start Pro</button>
            </div>
          </div>
        </div>

        <!-- Card 3: Premium (The Master) -->
        <div class="col-lg-4 col-md-6">
          <div class="card bg-dark border-danger h-100 pricing-card transform-scale">
            <div class="card-body p-5 d-flex flex-column">
              <div class="badge bg-danger text-uppercase mb-3 align-self-start rounded-0">Recommended</div>
              <h3 class="card-title fw-bold text-white">The Master</h3>
              <p class="text-white-50 mb-4">Total dominance.</p>
              <!-- Price Container -->
              <h2 class="display-5 fw-bold text-danger mb-4" id="price-premium">
                --
                <span class="fs-6 text-white-50" id="period-premium">/week</span>
              </h2>
              <ul class="list-unstyled text-white-50 mb-5 flex-grow-1">
                <li class="mb-3 text-white">✓ <strong>100 AI Queries / Day</strong></li>
                <li class="mb-3 text-white">✓ <strong>100 Screenshot Analyses / Day</strong></li>
                <li class="mb-3">✓ <strong>Unlock:</strong> All Personas (Inc. Therapist)</li>
                <li class="mb-3">✓ Priority Response Time</li>
                <li class="mb-3">✓ Early Access Features</li>
              </ul>
              <button onclick="selectPlan('Master')" class="btn btn-danger w-100 rounded-0 fw-bold text-uppercase">God
                Mode</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Pricing Logic
    const pricing = {
      IN: { // India
        pro: { weekly: "₹49", monthly: "₹149" },
        premium: { weekly: "₹99", monthly: "₹299" }
      },
      GLOBAL: { // Rest of World
        pro: { weekly: "$2.99", monthly: "$7.99" },
        premium: { weekly: "$4.99", monthly: "$12.99" }
      }
    };

    let userRegion = 'GLOBAL'; // Default

    function updatePricing() {
      const isMonthly = document.getElementById('billingMonthly').checked;
      const prices = pricing[userRegion];
      const period = isMonthly ? '/mo' : '/week';

      // Update Pro
      const pricePro = document.getElementById('price-pro');
      if (pricePro) {
        pricePro.innerHTML = `
                ${isMonthly ? prices.pro.monthly : prices.pro.weekly}<span class="fs-4 text-white-50">${period}</span>
            `;
      }

      // Update Premium
      const pricePremium = document.getElementById('price-premium');
      if (pricePremium) {
        pricePremium.innerHTML = `
                ${isMonthly ? prices.premium.monthly : prices.premium.weekly}<span class="fs-6 text-white-50">${period}</span>
            `;
      }
    }

    // Detect user region based on timezone
    document.addEventListener('DOMContentLoaded', () => {
      const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
      if (timeZone.includes('Calcutta') || timeZone.includes('Kolkata') || timeZone.includes('Asia/Colombo')) {
        userRegion = 'IN';
      }
      updatePricing();
    });
  </script>

  <!-- Footer Component -->
  <div id="footer-placeholder"></div>

  <!-- Load components first, then other scripts -->
  <script src="js/components.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <script src="js/navbar.js"></script>
  <script src="js/toast.js"></script>
  <script src="js/config.js"></script>
  <script>
    async function selectPlan(plan) {
      const token = localStorage.getItem('access_token');

      if (!token) {
        // Not logged in - redirect to signup
        showToast('Please sign up or log in to select a plan', 'warning');
        setTimeout(() => window.location.href = 'signup.html', 1500);
        return;
      }

      try {
        const response = await fetch(`${API_BASE_URL}/update-plan`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${token}`
          },
          body: JSON.stringify({ plan: plan })
        });

        if (response.ok) {
          const data = await response.json();
          showToast(`Successfully upgraded to ${plan} plan!`, 'success');
          setTimeout(() => window.location.href = 'profile.html', 1500);
        } else {
          const error = await response.json();
          showToast(error.detail || 'Failed to update plan', 'error');
        }
      } catch (error) {
        console.error('Error updating plan:', error);
        showToast('An error occurred while updating your plan', 'error');
      }
    }
  </script>
</body>

</html>